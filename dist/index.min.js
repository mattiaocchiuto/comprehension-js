!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Comprehensions",[],e):"object"==typeof exports?exports.Comprehensions=e():r.Comprehensions=e()}(this,function(){return function(r){function e(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return r[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var t={};return e.m=r,e.c=t,e.p="",e(0)}([function(module,exports){module.exports=function(){function _isInputSet(r){return r.indexOf("<-")!=-1}function _parseIfNum(r){return isNaN(parseInt(r))?r.trim():parseInt(r)}function completeArray(r){var e=1;if("string"!=typeof r)throw new TypeError('The "arrayString" parameter has to be a string.');if(/\[(.*)\]/.test(r)&&(r=r.replace(/\[(.*)\]/,"$1")),/(.*)\.\.(.*)/.test(r)){var t,n,o=r.replace(/(.*)\.\.(.*)/,"$1||$2").split("||");if(o[0].indexOf(",")!=-1){var i=o[0].split(",");e=_parseIfNum(i[1])-_parseIfNum(i[0]),t=_parseIfNum(i[0])}return t=_parseIfNum(o[0]),n=_parseIfNum(o[1]),n<t?[]:Array(n).fill(t).reduce(function(r,t){var o=r.lastElem?r.lastElem+e:t;return o<=n&&(r.result.push(o),r.lastElem=o),r},{result:[],lastElem:void 0}).result}return r.split(",").reduce(function(r,e){return r.push(_parseIfNum(e)),r},[])}function formatComprehensions(outputExpression,otherArgs){function transformationFunction(input){if(!Array.isArray(input))throw new TypeError("The input value has to be an Array");var results=[];return input.map(function(val){var predicatesCondition=!1;this[varName]=val,predicatesCondition=predicates.reduce(function(acc,predicate){return this[varName]=val,acc&&eval(predicate)},!0),predicatesCondition&&results.push(eval(outputExpression))}),results}var inputSet,varName,rightSide=otherArgs.split(","),predicates=[];if(inputSet=rightSide.shift(),!_isInputSet(inputSet))throw new Error("You have to specify an input set.");if(varName=inputSet.replace(/(\w)<-(.*)/,"$1"),rightSide.map(function(r){predicates.push(r)}),/(.*)<-\[(.*)\]/.test(inputSet)){var inputSetParams=inputSet.replace(/(.*)<-\[(.*)\]/,"$1||$2").split("||"),inputSetFormatted=completeArray(inputSetParams[1]);return transformationFunction(inputSetFormatted)}return transformationFunction}function comprehensions(r){r=r.replace(/ +/g,"").replace(/\[(.*)\|((.*)(,?).*)\]/,"$1||$2||$3");var e=r.split("||");return formatComprehensions(e[0],e[1])}return Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)}),Array.prototype.map||(Array.prototype.map=function(r,e){var t,n,o;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),a=i.length>>>0;if("function"!=typeof r)throw new TypeError(r+" is not a function");for(arguments.length>1&&(t=e),n=new Array(a),o=0;o<a;){var p,s;o in i&&(p=i[o],s=r.call(t,p,o,i),n[o]=s),o++}return n}),Array.prototype.reduce||(Array.prototype.reduce=function(r){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof r)throw new TypeError(r+" is not a function");var e,t=Object(this),n=t.length>>>0,o=0;if(2==arguments.length)e=arguments[1];else{for(;o<n&&!(o in t);)o++;if(o>=n)throw new TypeError("Reduce of empty array with no initial value");e=t[o++]}for(;o<n;o++)o in t&&(e=r(e,t[o],o,t));return e}),{comprehensions:comprehensions,completeArray:completeArray}}()}])});
//# sourceMappingURL=index.min.js.map